{"version":3,"sources":["components/UI/Header.js","components/UI/ErrorMessage.js","components/UI/Spinner.js","components/UI/Button.js","components/UI/Input.js","components/Navigation/Navigation.js","store/actions/getCurrency.js","store/actions/actionTypes.js","store/actions/getResults.js","components/Table/Table.js","App.js","store/reducers/getCurrency.js","store/reducers/getResults.js","index.js"],"names":["header","props","react_default","a","createElement","className","text","errorMessage","spinner","button","type","onClick","disabled","title","input","id","onChange","Navigation","_Component","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","GetResults","e","preventDefault","onGetResults","state","currency","dateFrom","dateTo","dateFromChange","bind","assertThisInitialized","dateToChange","currencyChange","inherits","createClass","key","value","setState","target","currentTarget","onGetCurrencyList","currencyListData","screen","Spinner","loading","error","ErrorMessage","list","map","rez","CcyAmt","Ccy","sort","index","size","Input","Button","Component","connect","currencyList","dispatch","parseStringList","require","parseString","axios","all","get","concat","then","spread","currentRates","allCurrencies","data","err","getCurrencyListSuccess","FxRates","FxRate","currentData","getCurrencyRatesSuccess","CcyTbl","CcyNtry","catch","getCurrencyFail","method","url","headers","content-type","response","getResultsSuccess","getResultsFail","actions","Table","apply","arguments","results","tableScreen","resultsLoading","resultsError","currencyCode","currencyRate","i","length","CcyNm","_","Amt","keys","forEach","push","scope","units","percent","proportion","date","Dt","toFixed","pop","rslt","App","Header","components_Navigation_Navigation","components_Table_Table","initialState","reducer","undefined","action","objectSpread","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","getCurrencyReducer","getResultsReducer","store","createStore","applyMiddleware","thunk","app","es","src_App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.918c4871.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst header = props => (\r\n    <div className=\"infoBlock-header\">\r\n        <div className=\"infoBlock-header--text\" >\r\n            <h1>{props.text}</h1>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default header;","import React from 'react';\r\n\r\nconst errorMessage = props => (\r\n    <div className={props.className}>\r\n        <h6>Error! Please try again!</h6>  \r\n    </div>     \r\n)\r\n    \r\nexport default errorMessage;","import React from 'react';\r\n\r\nconst spinner = () => (\r\n    <div className=\"lds-dual-ring\"></div>  \r\n);\r\n\r\nexport default spinner;","import React from 'react';\r\n\r\nconst button = props => (\r\n    <div className={props.className}>\r\n        <button type={props.type} onClick={props.onClick} disabled={props.disabled}>{props.title}</button>\r\n    </div>\r\n);\r\n\r\nexport default button;","import React from 'react';\r\n\r\nconst input = props => (\r\n    <div className={props.className}>\r\n        <input type={props.type} id={props.id} onChange={props.onChange}></input>\r\n    </div>\r\n);\r\n\r\nexport default input;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ErrorMessage from '../UI/ErrorMessage';\r\nimport Spinner from '../UI/Spinner';\r\nimport * as actions from '../../store/actions/index';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '../UI/Button';\r\nimport Input from '../UI/Input';\r\n\r\n\r\nexport class Navigation extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {dateFrom: '', dateTo: '', currency: ''};\r\n        this.dateFromChange = this.dateFromChange.bind(this);\r\n        this.dateToChange = this.dateToChange.bind(this); \r\n        this.currencyChange = this.currencyChange.bind(this);  \r\n    }\r\n\r\n    dateFromChange(e) {\r\n        this.setState({dateFrom: e.target.value});\r\n     }\r\n\r\n    dateToChange(e) {\r\n        this.setState({dateTo: e.target.value});\r\n    }\r\n\r\n    currencyChange(e) {\r\n        this.setState({currency: e.currentTarget.value});\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onGetCurrencyList();        \r\n    };\r\n\r\n    GetResults = (e) => {\r\n        e.preventDefault();  \r\n        this.props.onGetResults(this.state.currency, this.state.dateFrom, this.state.dateTo)\r\n    };\r\n\r\n\r\n    render () {\r\n        let currencyListData = null;\r\n        let screen = <Spinner/>;\r\n\r\n        if (!this.props.loading && this.props.currencyListData !== null && this.props.error == null) {\r\n            let list = this.props.currencyListData.map( rez=> rez.CcyAmt[1].Ccy[0] );\r\n            list.sort();\r\n            currencyListData = list.map(( rez, index) => <option key={index} value={rez}>{rez}</option>);\r\n\r\n        screen = (\r\n            <div size=\"10\" className=\"infoBlock-navigation-block--currency-box\" >\r\n                <select className=\"currency-box-results\" id='currencySymbol' onChange={this.currencyChange}>\r\n                    <option >Currency</option>\r\n                    {currencyListData} \r\n                </select>\r\n            </div>\r\n        );\r\n\r\n        } else if (!this.props.loading) {\r\n            screen = <ErrorMessage/>\r\n        } else {\r\n            screen = <Spinner/>;\r\n        }\r\n\r\n        return (\r\n            <div className=\"infoBlock-navigation\">\r\n                <div className=\"infoBlock-navigation-block\">\r\n                    <Input className=\"infoBlock-navigation-block--calendarFrom\" type=\"date\" id=\"dateFrom\" onChange={this.dateFromChange}/>   \r\n                    <Input className=\"infoBlock-navigation-block--calendarTo\" type=\"date\" id=\"dateTo\" onChange={this.dateToChange}/>\r\n                    <div className=\"infoBlock-navigation-block--currency\">\r\n                        {screen}\r\n                    </div>\r\n                    <Button className=\"infoBlock-navigation-block--button\" type=\"submit\" title=\"Search\" onClick={this.GetResults} disabled={!this.state.dateFrom || !this.state.dateTo || !this.state.currency}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n} \r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        currencyListData: state.currencyList.currencyList,\r\n        loading: state.currencyList.loading,\r\n        error: state.currencyList.error\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onGetCurrencyList: () => dispatch(actions.getCurrencyStart()),\r\n        onGetResults: (currency, dateFrom, dateTo) => dispatch(actions.getResultsStart(currency, dateFrom, dateTo))\r\n    };\r\n};\r\n\r\nNavigation.propTypes = {\r\n    currencyListData: PropTypes.array,\r\n    loading: PropTypes.bool,\r\n    error: PropTypes.any\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);","import * as actionTypes from './actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const getCurrencyList = () => {\r\n    return {\r\n        type: actionTypes.GET_CURRENCY_LIST_START\r\n    };\r\n};\r\n\r\nexport const getCurrencyListSuccess = (data) => {\r\n    return {\r\n        type: actionTypes.GET_CURRENCY_LIST_SUCCESS,\r\n        currencyList: data\r\n\r\n    };\r\n};\r\n\r\nexport const getCurrencyRatesSuccess = (data) => {\r\n    return {\r\n        type: actionTypes.GET_CURRENCY_RATES_SUCCESS,\r\n        currentData: data\r\n\r\n    };\r\n};\r\n\r\nexport const getCurrencyFail = (error) => {\r\n    return {\r\n        type: actionTypes.GET_CURRENCY_LIST_FAIL,\r\n        error: error\r\n    };\r\n};\r\n\r\nexport const getCurrencyStart = () => {\r\n    return dispatch => {\r\n        dispatch(getCurrencyList());\r\n        let parseStringList = require('xml2js').parseString;\r\n        let parseString = require('xml2js').parseString;\r\n        axios.all([\r\n            axios.get(`${'https://cors-anywhere.herokuapp.com/'}http://old.lb.lt/webservices/fxrates/FxRates.asmx/getCurrentFxRates?tp=eu`),\r\n            axios.get(`${'https://cors-anywhere.herokuapp.com/'}http://old.lb.lt/webservices/fxrates/FxRates.asmx/getCurrencyList`)\r\n          ])\r\n          .then(axios.spread((currentRates, allCurrencies) => {\r\n            parseStringList(currentRates.data, function (err, data) {\r\n             dispatch(getCurrencyListSuccess(data.FxRates.FxRate))\r\n            });\r\n            parseString(allCurrencies.data, function (err, data) { \r\n                dispatch(getCurrencyRatesSuccess(data.CcyTbl.CcyNtry))\r\n            });\r\n            \r\n          })).catch (error => {\r\n            dispatch(getCurrencyFail(error));\r\n            });\r\n        \r\n    }\r\n\r\n}\r\n","export const GET_CURRENCY_LIST_START = \"GET_CURRENCY_LIST_START\";\r\nexport const GET_CURRENCY_LIST_SUCCESS = \"GET_CURRENCY_LIST_SUCCESS\";\r\nexport const GET_CURRENCY_RATES_SUCCESS = \"GET_CURRENCY_RATES_SUCCESS\";\r\nexport const GET_CURRENCY_LIST_FAIL = \"GET_CURRENCY_LIST_FAIL\";\r\n\r\nexport const GET_RESULTS_START = \"GET_RESULTS_START\";\r\nexport const GET_RESULTS_SUCCESS = \"GET_RESULTS_SUCCESS\";\r\nexport const GET_RESULTS_FAIL = \"GET_RESULTS_FAIL\";","import * as actionTypes from './actionTypes';\r\nimport axios from 'axios';\r\n\r\nexport const getResults = () => {\r\n    return {\r\n        type: actionTypes.GET_RESULTS_START\r\n    };\r\n};\r\n\r\nexport const getResultsSuccess = (data) => {\r\n    return {\r\n        type: actionTypes.GET_RESULTS_SUCCESS,\r\n        data: data\r\n    };\r\n};\r\n\r\nexport const getResultsFail = (error) => {\r\n    return {\r\n        type: actionTypes.GET_RESULTS_FAIL,\r\n        error: error\r\n    };\r\n};\r\n\r\nexport const getResultsStart = (currency, dateFrom, dateTo) => {\r\n    return dispatch => {\r\n        dispatch(getResults());\r\n        let parseString = require('xml2js').parseString;\r\n        axios({\r\n            method: \"GET\",\r\n            url: `${'https://cors-anywhere.herokuapp.com/'}http://old.lb.lt/webservices/fxrates/FxRates.asmx/getFxRatesForCurrency?tp=eu&ccy=${currency}&dtFrom=${dateFrom}&dtTo=${dateTo}`,\r\n            headers: { 'content-type': 'application/x-www-form-urlencoded' }\r\n        }).then (function (response) {\r\n            parseString(response.data, function (err, data) {   \r\n                dispatch(getResultsSuccess(data.FxRates.FxRate))\r\n            }); \r\n        }).catch (error => {\r\n            dispatch(getResultsFail(error));\r\n        });\r\n    }\r\n\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport ErrorMessage from '../UI/ErrorMessage';\r\nimport Spinner from '../UI/Spinner';\r\n\r\nexport class Table extends Component {\r\n\r\n    render() {\r\n        let results = [];\r\n        let tableScreen = null;\r\n\r\n        if (!this.props.resultsLoading && this.props.results !== null && this.props.resultsError == null) {\r\n            results = null;\r\n            let units = [];\r\n            let percent = [];            \r\n            let proportion = this.props.results.map( rez=> rez.CcyAmt[1].Amt[0] );\r\n            let date = this.props.results.map(rez => rez.Dt[0] );\r\n\r\n            for(let i = 0; i<=proportion.length; i++) {\r\n                units.push((proportion[i] - proportion[i+1]).toFixed(4));\r\n                percent.push(((units[i] / proportion[i+1]) * 100).toFixed(4));\r\n            }        \r\n\r\n            proportion.pop();\r\n            date.pop();\r\n\r\n            results = proportion.map(( rslt, index) => \r\n                <tr key={index} ><td>{date[index]}</td><td>{rslt}</td><td>{units[index]}</td><td>{percent[index]}</td></tr>\r\n            );\r\n\r\n            tableScreen = (\r\n                <table className=\"table table-hover\">\r\n                    <thead className=\"infoBlock-table--heading\">\r\n                        <tr>\r\n                        <th scope=\"col\">Date</th>\r\n                        <th scope=\"col\">Proportion</th>\r\n                        <th scope=\"col\">Change</th>\r\n                        <th scope=\"col\">Change %</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"table-results\">\r\n                        {results}\r\n                    </tbody>              \r\n                </table>\r\n            );\r\n\r\n        } else if (!this.props.resultsLoading && this.props.currentData !== null && this.props.resultsError == null) {\r\n            \r\n            let currencyCode = {};\r\n            let currencyRate = {};\r\n            let list = {};\r\n            \r\n            for (let i = 0; i <= this.props.currentData.length-1; i++) {\r\n                currencyCode[this.props.currentData[i].Ccy[0]] = this.props.currentData[i].CcyNm[1]._;\r\n            }  \r\n            \r\n            for (let i = 0; i <= this.props.currencyListData.length-1; i++) {\r\n                currencyRate[this.props.currencyListData[i].CcyAmt[1].Ccy[0]] = this.props.currencyListData[i].CcyAmt[1].Amt[0];\r\n            }\r\n\r\n            Object.keys(currencyRate).forEach(function (key, index) {\r\n                list[index] = [currencyCode[key], [key], currencyRate[key]];                \r\n            });\r\n            \r\n            Object.keys(list).forEach(function (key) {\r\n                 results.push(<tr key={key}><td>{list[key][0]}</td><td>{list[key][1][0]}</td><td>{list[key][2]}</td></tr>);                \r\n            });\r\n            \r\n            tableScreen = (\r\n                <div>\r\n                    <table className=\"table table-hover\">                    \r\n                        <thead className=\"infoBlock-table--heading\"  >\r\n                            <tr>\r\n                            <th scope=\"col\">Currency name</th>\r\n                            <th scope=\"col\">Currency code</th>\r\n                            <th scope=\"col\">Proportion</th>\r\n                            </tr>                        \r\n                        </thead>\r\n                        <tbody className=\"table-results\">\r\n                            {results}\r\n                        </tbody>              \r\n                    </table>\r\n                </div>\r\n            );\r\n        } else if (this.props.resultsError !== null) {            \r\n            tableScreen = <ErrorMessage/>;            \r\n        } else {            \r\n            tableScreen = <Spinner/>;\r\n        }\r\n\r\n        return(\r\n            <div className=\"infoBlock-table\">\r\n                {tableScreen}\r\n            </div> \r\n        );\r\n    }\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        results: state.results.data,\r\n        resultsLoading: state.results.loading,\r\n        resultsError: state.results.error,\r\n        currentData: state.currencyList.currentData,\r\n        currencyListData: state.currencyList.currencyList,   \r\n    };\r\n}\r\n\r\nTable.propTypes = {\r\n    results: PropTypes.array,\r\n    resultsLoading: PropTypes.bool,\r\n    resultsError: PropTypes.array,\r\n    currentData: PropTypes.array,\r\n    currencyListData:PropTypes.array\r\n};\r\n\r\nexport default connect(mapStateToProps)(Table);","import React, { Component } from 'react';\nimport Header from './components/UI/Header'\nimport Navigation from './components/Navigation/Navigation';\nimport Table from './components/Table/Table';\n\nimport './assets/css/main.css';\n\n\nclass App extends Component {\n    render() {\n        return (\n            <div className=\"infoBlock\">\n                <Header text=\"Daily euro foreign exchange reference rates\"/>\n                <Navigation/>\n                <Table/> \n            </div>\n        );\n    }\n}\n\nexport default App;\n","import * as actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    currentData: null,\r\n    currencyList: null,\r\n    loading: true,\r\n    error: null\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.GET_CURRENCY_LIST_START:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case actionTypes.GET_CURRENCY_LIST_SUCCESS:\r\n            return {\r\n                ...state,\r\n                currencyList: action.currencyList,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case actionTypes.GET_CURRENCY_RATES_SUCCESS:\r\n            return {\r\n                ...state,\r\n                currentData: action.currentData,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case actionTypes.GET_CURRENCY_LIST_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.error,\r\n                loading: false\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    data: null,\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.GET_RESULTS_START:\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            };\r\n        case actionTypes.GET_RESULTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                data: action.data,\r\n                loading: false,\r\n                error: null\r\n            };\r\n        case actionTypes.GET_RESULTS_FAIL:\r\n            return {\r\n                ...state,\r\n                error: action.error,\r\n                loading: false\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\nimport App from './App';\nimport getCurrencyReducer from './store/reducers/getCurrency';\nimport getResultsReducer from './store/reducers/getResults';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n    currencyList: getCurrencyReducer,\n    results: getResultsReducer\n});\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\n\nconst app = (\n    <Provider store={store}>\n        <App/>    \n    </Provider>    \n);\n\nReactDOM.render(app, document.getElementById('root'));\n\n\n"],"sourceRoot":""}